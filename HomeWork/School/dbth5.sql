DROP DATABASE IF EXISTS DBTH5;
CREATE DATABASE DBTH5;

USE DBTH5;

CREATE TABLE THISINH (
	SOBD VARCHAR(12), 
	HOTEN VARCHAR(50), 
	NGAYSINH Date, 
	NOISINH VARCHAR(100),
	NAMDUTHI INT,
	MATRUONG INT 
);

create table TRUONG (
	MATRUONG INT NOT NULL UNIQUE,
	TENTRUONG VARCHAR(100) ,
    
	PRIMARY KEY(MATRUONG)
);

CREATE TABLE MONTHI(
	MAMT VARCHAR(10),
    TENMT VARCHAR(20)
);

CREATE TABLE KETQUA(
	SOBD VARCHAR(12),
    MAMT VARCHAR(10),
    DIEMTHI FLOAT,
    GHICHU VARCHAR(20)
);

# Thêm khoá chính sau khi đã tạo bảng
ALTER TABLE THISINH ADD PRIMARY KEY(SOBD);
ALTER TABLE MONTHI ADD PRIMARY KEY(MAMT);
ALTER TABLE TRUONG ADD PRIMARY KEY(MATRUONG);

# Thêm khoá ngoại sau khi đã tạo bảng
ALTER TABLE THISINH ADD FOREIGN KEY(MATRUONG) REFERENCES TRUONG(MATRUONG);
ALTER TABLE KETQUA ADD FOREIGN KEY(SOBD) REFERENCES THISINH(SOBD);
ALTER TABLE KETQUA ADD FOREIGN KEY(MAMT) REFERENCES MONTHI(MAMT);



# THÊM DỮ LIỆU VÀO BẢNG TRUONG
INSERT INTO TRUONG VALUES (018,'LÊ HỒNG PHONG');
INSERT INTO TRUONG VALUES (019,'NGUYỄN THỊ MINH KHAI');
INSERT INTO TRUONG VALUES (020,'NGUYỄN THƯỢNG HIỀN');



INSERT INTO THISINH VALUES('080191000001', 'NGUYEN THI LAN ANH', '1982-12-15','',2010,018);
INSERT INTO THISINH VALUES('080191000002', 'TRẦN THỊ KIM HOÀN', '1982-01-31','',2010,018);
INSERT INTO THISINH VALUES('080191000003', 'VŨ MINH QUÂN', '1982-04-14','',2010,019);
INSERT INTO THISINH VALUES('080191000004', 'KHONG MINH HOANG LONG', '1982-05-15','',2010,019);
INSERT INTO THISINH VALUES('080191000005', 'TRAN LE HOANG DUNG', '1982-06-26','',2010,020);
	


# THÊM DỮ LIỆU VÀO BẢNG MONTHI
INSERT INTO MONTHI VALUES ('DIA','DIA LY');
INSERT INTO MONTHI VALUES ('HOA','HOA HOC');
INSERT INTO MONTHI VALUES ('LY','VAT LY');
INSERT INTO MONTHI VALUES ('NGOAINGU','NGOAI NGU');
INSERT INTO MONTHI VALUES ('SINH','SINH HOC');
INSERT INTO MONTHI VALUES ('SU','LICH SU');
INSERT INTO MONTHI VALUES ('TOAN','TOA HOC');
INSERT INTO MONTHI VALUES ('VAN','NGU VAN');



# THÊM DỮ LIỆU VÀO BẢNG KETQUA
INSERT INTO KETQUA VALUES ('080191000001','DIA',5,'');
INSERT INTO KETQUA VALUES ('080191000001','HOA',5,'');	
INSERT INTO KETQUA VALUES ('080191000001','LY',5,'');
INSERT INTO KETQUA VALUES ('080191000001','SU',5,'');
INSERT INTO KETQUA VALUES ('080191000001','TOAN',5,'');
INSERT INTO KETQUA VALUES ('080191000001','VAN',5,'');
INSERT INTO KETQUA VALUES ('080191000002','DIA',8,'');
INSERT INTO KETQUA VALUES ('080191000002','HOA',8,'');	
INSERT INTO KETQUA VALUES ('080191000002','LY',8,'');
INSERT INTO KETQUA VALUES ('080191000002','SU',8,'');
INSERT INTO KETQUA VALUES ('080191000002','TOAN',8,'');
INSERT INTO KETQUA VALUES ('080191000002','VAN',9,'');
INSERT INTO KETQUA VALUES ('080191000003','DIA',0,'vắng thi');
INSERT INTO KETQUA VALUES ('080191000003','HOA',0,'vắng thi');	
INSERT INTO KETQUA VALUES ('080191000003','LY',0,'vắng thi');
INSERT INTO KETQUA VALUES ('080191000003','SU',0,'vắng thi');
INSERT INTO KETQUA VALUES ('080191000003','TOAN',0,'vắng thi');
INSERT INTO KETQUA VALUES ('080191000003','VAN',0,'vắng thi');
INSERT INTO KETQUA VALUES ('080191000004','DIA',9,'');
INSERT INTO KETQUA VALUES ('080191000004','HOA',7,'');	
INSERT INTO KETQUA VALUES ('080191000004','LY',7,'');
INSERT INTO KETQUA VALUES ('080191000004','SU',9,'');
INSERT INTO KETQUA VALUES ('080191000004','TOAN',9,'');
INSERT INTO KETQUA VALUES ('080191000004','VAN',9,'');
INSERT INTO KETQUA VALUES ('080191000005','DIA',0,'vắng thi');
INSERT INTO KETQUA VALUES ('080191000005','HOA',10,'');	
INSERT INTO KETQUA VALUES ('080191000005','LY',10,'');
INSERT INTO KETQUA VALUES ('080191000005','SU',10,'');
INSERT INTO KETQUA VALUES ('080191000005','TOAN',10,'');
INSERT INTO KETQUA VALUES ('080191000005','VAN',10,'');


#....





